@model Linko.LinkoExchange.Web.ViewModels.Shared.ReportPackageTemplateViewModel

@{
    ViewBag.Title = "Report Package Template";
}


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <section>
        <ol class="breadcrumb">
            <li>
                <a href="#" onclick="location.href = '@Url.Action(actionName:"Index", controllerName:"Authority")'"><i class=""></i> Home </a>
            </li>
            <li>
                <a href="#" onclick="location.href = '@Url.Action(actionName:"ReportPackageTemplates", controllerName:"Authority")'"><i class=""></i> Report Package Templates </a>
            </li>
            <li class="active">Details</li>
        </ol>
    </section>

    <div class="box box-primary">
        <div class="box-header with-border">
            <h3 class="box-title">
                Report Details
            </h3>

            <div class="box-tools pull-right">
                @if (!ViewBag.Satus.Equals("ViewOnly"))
                {
                    if (!ViewBag.Satus.Equals("New"))
                    {
                        <input type="submit" value="Save" class="btn btn-primary btn-sm" formaction="@Url.Action(actionName:"ReportPackageTemplateDetails", controllerName:"Authority")" formmethod="post" />

                        <input class="btn btn-primary btn-sm" data-target="#DeleteReportPackageTemplateModal" data-toggle="modal" type="button" value="Delete" />
                    }
                    else
                    {
                        <input type="submit" value="Save" class="btn btn-primary btn-sm" formaction="@Url.Action(actionName:"NewReportPackageTemplateDetails", controllerName:"Authority")" formmethod="post" />
                    }
                }

                <button class="btn btn-box-tool" data-widget="collapse">
                    <i class="fa fa-minus"></i>
                </button>
            </div>
        </div>

        <section class="box-body form-horizontal">
            @Html.ValidationSummary(excludePropertyErrors:true, message:Message.ValidationSummaryHeaderText, htmlAttributes:new
                                                                                                                            {
                                                                                                                                @class = "alert alert-danger"
                                                                                                                            })
            @if (ViewBag.ShowSuccessMessage != null && ViewBag.ShowSuccessMessage)
            {
                <div class="alert alert-dismissible alert-success">
                    <button aria-hidden="true" class="close" data-dismiss="alert" type="button">&times;</button>
                    <h5>
                        <i class="fa fa-check icon"></i>
                        @ViewBag.SuccessMessage
                    </h5>
                </div>
            }

            <div aria-labelledby="DeleteReportPackageTemplateModalLabel" class="col-md-12 fade modal modal-info" id="DeleteReportPackageTemplateModal" role="dialog" tabindex="-1">
                <div class="modal-dialog" role="document">
                    <div class="alert alert-dismissible alert-info modal-content">
                        <button aria-label="Close" class="close" data-dismiss="modal" type="button">&times;</button>
                        <h4 class="box-title">Delete Report Package Template</h4>

                        <div>
                            <p>
                                Deleting this Report Package Template will permanently remove it from the system and it will no longer be available to use by an Industry. Drafts and previously submitted Reports will not be affected.
                                Do you want to delete this Report Package Template?<br />
                            </p>
                            <div class="form-group">
                                <div class="pull-right">
                                    <button type="submit" class="btn btn-primary btn-sm" formaction="@Url.Action(actionName:"DeleteReportPackageTemplate", controllerName:"Authority", routeValues:new {id = Model.Id})" formmethod="post">
                                        Yes
                                    </button>
                                    <button aria-label="Close" class="btn btn-primary btn-sm" data-dismiss="modal" type="button">No</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                @Html.HiddenFor(model => model.Id)
                @Html.LabelFor(model => model.Name, htmlAttributes:new
                                                                   {
                                                                       @class = "control-label col-md-2 required"
                                                                   })
                <div class="col-md-8">
                    @Html.EditorFor(model => model.Name, additionalViewData:new
                                                                            {
                                                                                htmlAttributes = new
                                                                                                 {
                                                                                                     @class = "form-control"
                                                                                                 }
                                                                            })
                    @Html.ValidationMessageFor(model => model.Name, validationMessage:"", htmlAttributes:new
                                                                                                         {
                                                                                                             @class = "text-danger"
                                                                                                         })
                </div>

                @Html.LabelFor(model => model.IsActive, htmlAttributes:new
                                                                       {
                                                                           @class = "control-label col-md-1"
                                                                       })
                <div class="col-md-1">
                    <div class="checkbox">
                        @Html.EditorFor(model => model.IsActive)
                    </div>
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.Description, htmlAttributes:new
                                                                          {
                                                                              @class = "control-label col-md-2"
                                                                          })
                <div class="col-md-8">
                    @Html.EditorFor(model => model.Description, additionalViewData:new
                                                                                   {
                                                                                       htmlAttributes = new
                                                                                                        {
                                                                                                            @class = "form-control",
                                                                                                            rows = "3"
                                                                                                        }
                                                                                   })
                </div>
            </div>

            <hr />

            <div class="form-group">


                @Html.LabelFor(model => model.EffectiveDateTimeLocal, labelText:"When will the Industry start seeing and using this template ?"
                    , htmlAttributes:new
                                     {
                                         @class = "control-label col-md-6"
                                     })

                <div class="col-md-4">
                    @(Html.Kendo().DatePicker()
                          .Name(componentName:"dEffectiveDateTimeLocal")
                          .Value(date:Model.EffectiveDateTimeLocal)
                          .Format(format:"D")
                          .HtmlAttributes(attributes:new
                                                     {
                                                         style = "width:210px;"
                                                     }))

                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.CtsEventTypeId, labelText:"When the report package shows up in the LinkoCTS, what Event Type should it use?"
                    , htmlAttributes:new
                                     {
                                         @class = "control-label col-md-6"
                                     })

                <div class="col-md-4">
                    @Html.DropDownList(name:"CtsEventTypeId", selectList:Model.AvailableCtsEventTypes, htmlAttributes:new
                                                                                                                      {
                                                                                                                          @class = "form-control"
                                                                                                                      })

                    @Html.ValidationMessageFor(model => model.CtsEventTypeName, validationMessage:"", htmlAttributes:new
                                                                                                                     {
                                                                                                                         @class = "text-danger"
                                                                                                                     })
                </div>
            </div>
        </section>

    </div>
}